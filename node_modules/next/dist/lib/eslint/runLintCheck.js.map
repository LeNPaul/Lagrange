{"version":3,"sources":["../../../lib/eslint/runLintCheck.ts"],"names":["fs","promises","chalk","path","findUp","semver","CommentJson","LintResult","formatResults","writeDefaultConfig","hasEslintConfiguration","ESLINT_PROMPT_VALUES","existsSync","findPagesDir","installDependencies","hasNecessaryDependencies","isYarn","Log","EventLintCheckCompleted","isError","requiredPackages","file","pkg","cliPrompt","console","log","bold","cyan","cliSelect","Promise","resolve","require","default","value","values","valueRenderer","title","recommended","selected","name","underline","yellow","unselected","config","lint","baseDir","lintDirs","eslintrcFile","pkgJsonPath","lintDuringBuild","eslintOptions","reportErrorsOnly","maxWarnings","formatter","deps","missing","some","dep","error","mod","resolved","get","ESLint","eslintVersion","version","CLIEngine","lt","red","options","useEslintrc","baseConfig","errorOnUnmatchedPattern","extensions","cache","eslint","nextEslintPluginIsEnabled","pagesDirRules","configFile","completeConfig","calculateConfigForFile","plugins","includes","pagesDir","updatedPagesDir","rule","rules","replace","warn","lintStart","process","hrtime","results","lintFiles","selectedFormatter","fix","outputFixes","getErrorResults","loadFormatter","formattedResult","format","lintEnd","totalWarnings","reduce","sum","warningCount","output","length","eventInfo","durationInSeconds","lintedFilesCount","lintFix","nextEslintPluginVersion","has","join","dirname","nextEslintPluginErrorsCount","totalNextPluginErrorCount","nextEslintPluginWarningsCount","totalNextPluginWarningCount","err","message","Error","runLintCheck","strict","cwd","packageJsonConfig","pkgJsonContent","readFile","encoding","parse","exists","selectedConfig","find","opt","ready"],"mappings":"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"}