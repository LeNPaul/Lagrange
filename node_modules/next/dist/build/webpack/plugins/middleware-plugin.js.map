{"version":3,"sources":["../../../../build/webpack/plugins/middleware-plugin.ts"],"names":["webpack","sources","webpack5","getMiddlewareRegex","getSortedRoutes","MIDDLEWARE_MANIFEST","MIDDLEWARE_FLIGHT_MANIFEST","MIDDLEWARE_BUILD_MANIFEST","MIDDLEWARE_REACT_LOADABLE_MANIFEST","MIDDLEWARE_ROUTE","nonNullable","PLUGIN_NAME","MIDDLEWARE_FULL_ROUTE_REGEX","ssrEntries","Map","middlewareManifest","sortedMiddleware","clientInfo","middleware","version","MiddlewarePlugin","dev","webServerRuntime","constructor","createAssets","compilation","assets","envPerRoute","entrypoints","entrypoint","values","name","result","exec","ssrEntryInfo","get","location","slice","length","replace","entryFiles","getFiles","filter","file","endsWith","files","requireFlightManifest","map","startsWith","env","page","regexp","namedRegex","Object","keys","key","RawSource","JSON","stringify","apply","compiler","wp","hooks","tap","normalModuleFactory","afterOptimizeModules","moduleGraph","clear","info","entries","match","middlewareEntries","Set","addEntriesFromDependency","dep","module","getModule","add","runtime","util","getEntryRuntime","dependencies","forEach","includeDependencies","queue","buildInfo","isUsedByExports","usedByExports","usingIndirectEval","test","identifier","error","WebpackError","Array","from","join","errors","push","nextUsedEnvVars","undefined","envName","connections","getOutgoingConnections","connection","set","handler","parser","isMiddlewareModule","state","layer","wrapExpression","expr","dep1","ConstDependency","range","loc","addPresentationalDependency","dep2","expressionHandler","flagModule","old","item","optimize","InnerGraph","onUsage","ignore","call","for","new","expression","memberChainHandler","_expr","members","callMemberChain","expressionMemberChain","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","args","exportsInfo","getExportsInfo","exportName","getUsed","UsageState","Unused"],"mappings":"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"}