{"version":3,"sources":["../../../server/dev/on-demand-entry-handler.ts"],"names":["EventEmitter","join","posix","webpack","webpack5","normalizePagePath","normalizePathSep","pageNotFoundError","findPageFile","getRouteFromEntrypoint","API_ROUTE","MIDDLEWARE_ROUTE","reportTrigger","ws","NextConfigComplete","isCustomErrorPage","ADDED","Symbol","BUILDING","BUILT","entries","onDemandEntryHandler","watcher","multiCompiler","pagesDir","nextConfig","maxInactiveAge","pagesBufferLength","compilers","invalidator","Invalidator","lastClientAccessPages","doneCallbacks","compiler","hooks","make","tap","_compilation","startBuilding","getPagePathsFromEntrypoints","type","entrypoints","pagePaths","entrypoint","values","page","name","push","done","multiStats","rebuildAgain","doneBuilding","clientStats","serverStats","serverWebStats","stats","compilation","entry","status","emit","pingIntervalTime","Math","max","min","disposeHandler","setInterval","disposeInactiveEntries","unref","handlePing","pg","pageKey","entryInfo","toSend","invalid","success","includes","unshift","length","pop","lastActiveTime","Date","now","dispose","ensurePage","clientOnly","normalizedPagePath","err","console","error","pagePath","pageExtensions","bundlePath","absolutePagePath","startsWith","require","resolve","pageUrl","replace","RegExp","bundleFile","normalize","normalizedPage","isMiddleware","match","isApiRoute","isServerWeb","experimental","concurrentFeatures","isCustomError","entriesChanged","addPageEntry","Promise","reject","once","handleCallback","isClientOrMiddleware","promise","all","invalidate","onHMR","client","addEventListener","data","toString","parsedData","JSON","parse","event","result","send","stringify","_","_watcher","Object","keys","forEach","building","constructor"],"mappings":"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"}