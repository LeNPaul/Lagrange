{"version":3,"sources":["../../server/incremental-cache.ts"],"names":["promises","readFileSync","LRUCache","path","PrerenderManifest","PRERENDER_MANIFEST","normalizePagePath","toRoute","pathname","replace","IncrementalCache","incrementalOptions","prerenderManifest","cache","locales","constructor","max","dev","distDir","pagesDir","flushToDisk","version","routes","dynamicRoutes","notFoundRoutes","preview","JSON","parse","join","process","env","__NEXT_TEST_MAX_ISR_CACHE","parseInt","length","value","kind","html","stringify","pageData","getSeedPath","ext","calculateRevalidate","fromTime","Date","getTime","initialRevalidateSeconds","revalidateAfter","getFallback","page","readFile","get","data","includes","now","htmlPath","mtime","stat","set","_","isStale","manifestPath","manifestEntry","curRevalidate","revalidateSeconds","dataRoute","posix","srcRoute","seedPath","mkdir","dirname","recursive","writeFile","error","console","warn"],"mappings":"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"}